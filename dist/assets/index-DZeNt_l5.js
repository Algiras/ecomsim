import{r as c,a as se,R as P,A as ne,b as ie,B as ae,X as W,Y as B,T as _,c as le,L as ce,d as L,e as de}from"./charts-ChYPmMkg.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var H={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fe=c,ue=Symbol.for("react.element"),he=Symbol.for("react.fragment"),me=Object.prototype.hasOwnProperty,pe=fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xe={key:!0,ref:!0,__self:!0,__source:!0};function z(e,o,s){var n,r={},i=null,a=null;s!==void 0&&(i=""+s),o.key!==void 0&&(i=""+o.key),o.ref!==void 0&&(a=o.ref);for(n in o)me.call(o,n)&&!xe.hasOwnProperty(n)&&(r[n]=o[n]);if(e&&e.defaultProps)for(n in o=e.defaultProps,o)r[n]===void 0&&(r[n]=o[n]);return{$$typeof:ue,type:e,key:i,ref:a,props:r,_owner:pe.current}}I.Fragment=he;I.jsx=z;I.jsxs=z;H.exports=I;var t=H.exports,R={},$=se;R.createRoot=$.createRoot,R.hydrateRoot=$.hydrateRoot;function be(e,o,s){return Math.max(o,Math.min(s,e))}function ge(e,o=20){if(!e||e.length===0)return[];const s=[...e].sort((i,a)=>i-a),n=s.reduce((i,a)=>i+a,0);if(n===0)return[];const r=[{population:0,wealth:0}];for(let i=1;i<=o;i++){const a=Math.floor(i/o*s.length),l=s.slice(0,a).reduce((x,d)=>x+d,0);r.push({population:i/o*100,wealth:l/n*100})}return r}const k=[{threshold:0,color:[220,38,38]},{threshold:100,color:[234,88,12]},{threshold:300,color:[100,116,139]},{threshold:800,color:[59,130,246]},{threshold:2e3,color:[6,182,212]},{threshold:5e3,color:[234,179,8]},{threshold:1e4,color:[251,191,36]}];function G(e){const o=Math.max(0,e);let s=k[0],n=k[k.length-1];for(let d=0;d<k.length-1;d++)if(o>=k[d].threshold&&o<k[d+1].threshold){s=k[d],n=k[d+1];break}const r=n.threshold-s.threshold,i=r>0?(o-s.threshold)/r:1,a=Math.round(s.color[0]+(n.color[0]-s.color[0])*i),l=Math.round(s.color[1]+(n.color[1]-s.color[1])*i),x=Math.round(s.color[2]+(n.color[2]-s.color[2])*i);return`rgb(${a},${l},${x})`}const A={food:"#22c55e",housing:"#f59e0b",tech:"#6366f1",luxury:"#ec4899"},ye=800,ve=600,je=4;function we(e,o,s,n){for(const r of o)r.alive&&Ne(e,r,r.id===s,n)}function Ne(e,o,s,n){const{x:r,y:i,state:a,wealth:l,happiness:x,unrest:d,employed:f,isOwner:p,age:h}=o,u=je;e.save(),d>.5?(e.shadowColor="rgba(239,68,68,0.7)",e.shadowBlur=8):l>5e3&&(e.shadowColor="rgba(251,191,36,0.5)",e.shadowBlur=6);const N=G(l);if(e.beginPath(),p||a==="owner"?(e.moveTo(r,i-u*1.4),e.lineTo(r+u*1,i),e.lineTo(r,i+u*1.4),e.lineTo(r-u*1,i),e.closePath()):a==="child"||h<18*52?e.arc(r,i,u*.65,0,Math.PI*2):a==="retired"?e.rect(r-u*.9,i-u*.9,u*1.8,u*1.8):e.arc(r,i,u,0,Math.PI*2),e.fillStyle=N,e.fill(),a==="unemployed"?(e.strokeStyle="#ef4444",e.lineWidth=1.5,e.setLineDash([2,2]),e.stroke(),e.setLineDash([])):(f||p)&&(e.strokeStyle="rgba(255,255,255,0.6)",e.lineWidth=1,e.stroke()),l<100&&a!=="child"){const v=.3+.3*Math.sin(n*.1);e.strokeStyle=`rgba(239,68,68,${v})`,e.lineWidth=2,e.setLineDash([]),e.beginPath(),e.arc(r,i,u+3,0,Math.PI*2),e.stroke()}s&&(e.strokeStyle="#ffffff",e.lineWidth=2,e.setLineDash([]),e.beginPath(),e.arc(r,i,u+4,0,Math.PI*2),e.stroke()),e.restore()}function ke(e,o,s,n=.12){e.save(),e.lineWidth=.5;for(const r of o){if(!r.alive||!r.employed||!r.employerId)continue;const i=s.find(a=>a.id===r.employerId);i&&(e.beginPath(),e.strokeStyle=`rgba(99,102,241,${n})`,e.moveTo(r.x,r.y),e.lineTo(i.x,i.y),e.stroke())}e.restore()}function Se(e,o,s){for(const n of o)n.alive&&Ce(e,n,s)}function Ce(e,o,s){const{x:n,y:r,sector:i,employeeCount:a,radius:l,pulse:x,dominance:d,capital:f}=o,p=A[i]||"#94a3b8";e.save(),d>.4?(e.shadowColor=p,e.shadowBlur=15+d*20):f>2e3&&(e.shadowColor=p,e.shadowBlur=8);const h=l||10;if(e.beginPath(),O(e,n,r,h),e.fillStyle=p+"33",e.fill(),e.strokeStyle=p,e.lineWidth=2,e.stroke(),e.fillStyle=p,e.font=`${Math.max(8,h*.8)}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(Te[i]||"?",n,r),a>0&&(e.fillStyle="rgba(0,0,0,0.7)",e.beginPath(),e.arc(n+h*.8,r-h*.8,6,0,Math.PI*2),e.fill(),e.fillStyle="#ffffff",e.font="7px sans-serif",e.fillText(a,n+h*.8,r-h*.8)),f<100){const u=.4+.4*Math.sin(s*.15);e.strokeStyle=`rgba(239,68,68,${u})`,e.lineWidth=2,e.beginPath(),O(e,n,r,h+4),e.stroke()}e.restore()}function O(e,o,s,n){e.beginPath();for(let r=0;r<6;r++){const i=Math.PI/3*r-Math.PI/6,a=o+n*Math.cos(i),l=s+n*Math.sin(i);r===0?e.moveTo(a,l):e.lineTo(a,l)}e.closePath()}const Te={food:"ðŸŒ¾",housing:"ðŸ ",tech:"ðŸ’»",luxury:"ðŸ’Ž"};function Me(e,o,s,n){e.save();for(const r of o){if(!r.alive)continue;const i=A[r.sector]||"#94a3b8",a=30+r.employeeCount*5,l=e.createRadialGradient(r.x,r.y,0,r.x,r.y,a);l.addColorStop(0,i+"15"),l.addColorStop(1,"transparent"),e.fillStyle=l,e.beginPath(),e.arc(r.x,r.y,a,0,Math.PI*2),e.fill()}e.restore()}const M=[];function Ee(e,o){for(let s=0;s<6;s++){const n=Math.PI*2/6*s;M.push({type:"sparkle",x:e,y:o,vx:Math.cos(n)*2,vy:Math.sin(n)*2,life:1,color:"#22c55e",size:3})}}function Ie(e,o){for(let s=0;s<8;s++){const n=Math.random()*Math.PI*2;M.push({type:"fade",x:e+(Math.random()-.5)*10,y:o+(Math.random()-.5)*10,vx:Math.cos(n)*1.5,vy:Math.sin(n)*1.5,life:1,color:"#ef4444",size:2})}}function Pe(e){for(let o=M.length-1;o>=0;o--){const s=M[o];switch(e.save(),e.globalAlpha=s.life,s.type){case"sparkle":e.fillStyle=s.color,e.beginPath(),e.arc(s.x,s.y,s.size*s.life,0,Math.PI*2),e.fill(),s.x+=s.vx,s.y+=s.vy,s.vx*=.95,s.vy*=.95,s.life-=.04;break;case"fade":e.fillStyle=s.color,e.beginPath(),e.arc(s.x,s.y,s.size,0,Math.PI*2),e.fill(),s.x+=s.vx,s.y+=s.vy,s.life-=.06;break;case"wave":e.strokeStyle=s.color,e.lineWidth=1.5,e.beginPath(),e.arc(s.x,s.y,s.radius,0,Math.PI*2),e.stroke(),s.radius=s.radius+(s.maxRadius-s.radius)*.08,s.life-=.03;break}e.restore(),s.life<=0&&M.splice(o,1)}}function Re({simState:e,onAgentClick:o,selectedAgentId:s}){const n=c.useRef(null),r=c.useRef(null),i=c.useRef(0),a=c.useRef(new Set),l=c.useCallback(()=>{const d=n.current;if(!d)return;const f=d.getContext("2d");i.current++;const p=i.current;if(f.fillStyle="#0a0a0f",f.fillRect(0,0,d.width,d.height),!e){f.fillStyle="#334155",f.font="14px monospace",f.textAlign="center",f.fillText("Initializing simulation...",d.width/2,d.height/2);return}const{agents:h=[],businesses:u=[]}=e,N=new Set(h.filter(g=>g.alive).map(g=>g.id)),v=a.current;for(const g of v)if(!N.has(g)){const y=h.find(j=>j.id===g);y&&Ie(y.x,y.y)}for(const g of N)if(!v.has(g)){const y=h.find(j=>j.id===g);y&&Ee(y.x,y.y)}a.current=N,Me(f,u,d.width,d.height),ke(f,h,u),Se(f,u,p),we(f,h,s,p),Pe(f),r.current=requestAnimationFrame(l)},[e,s]);c.useEffect(()=>(r.current=requestAnimationFrame(l),()=>{r.current&&cancelAnimationFrame(r.current)}),[l]);const x=c.useCallback(d=>{if(!(e!=null&&e.agents)||!o)return;const f=n.current,p=f.getBoundingClientRect(),h=f.width/p.width,u=f.height/p.height,N=(d.clientX-p.left)*h,v=(d.clientY-p.top)*u;let g=null,y=12;for(const j of e.agents){if(!j.alive)continue;const b=Math.sqrt((j.x-N)**2+(j.y-v)**2);b<y&&(y=b,g=j)}o(g)},[e,o]);return t.jsx("canvas",{ref:n,width:ye,height:ve,className:"w-full h-full cursor-crosshair",style:{imageRendering:"pixelated",display:"block"},onClick:x})}function S({label:e,value:o,unit:s="",trend:n,color:r="#6366f1",history:i=[],format:a="number"}){const l=c.useMemo(()=>a==="percent"?(o*100).toFixed(1)+"%":a==="currency"?"$"+D(o):a==="index"?o.toFixed(1):D(o),[o,a]),x=i.slice(-40).map((d,f)=>({i:f,v:d}));return t.jsxs("div",{className:"bg-[#12121a] border border-[#1e1e2e] rounded-lg p-3 flex flex-col gap-1",children:[t.jsx("div",{className:"text-[#64748b] text-xs uppercase tracking-wider font-mono",children:e}),t.jsxs("div",{className:"flex items-end gap-2",children:[t.jsx("span",{className:"text-white text-xl font-bold font-mono",style:{color:r},children:l}),s&&t.jsx("span",{className:"text-[#64748b] text-xs mb-1",children:s}),n!==void 0&&t.jsxs("span",{className:`text-xs mb-1 ${n>=0?"text-green-400":"text-red-400"}`,children:[n>=0?"â†‘":"â†“"," ",Math.abs(n*100).toFixed(1),"%"]})]}),x.length>5&&t.jsx("div",{className:"h-8 w-full",children:t.jsx(P,{width:"100%",height:"100%",children:t.jsx(ne,{data:x,margin:{top:0,right:0,bottom:0,left:0},children:t.jsx(ie,{type:"monotone",dataKey:"v",stroke:r,fill:r+"22",strokeWidth:1,dot:!1,isAnimationActive:!1})})})})]})}function Ae({prices:e,supply:o,demand:s}){return t.jsxs("div",{className:"bg-[#12121a] border border-[#1e1e2e] rounded-lg p-3",children:[t.jsx("div",{className:"text-[#64748b] text-xs uppercase tracking-wider font-mono mb-2",children:"Market Prices"}),t.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:Object.entries(e||{}).map(([n,r])=>{const i=(o==null?void 0:o[n])||0,a=(s==null?void 0:s[n])||0,l=a>i?"text-red-400":"text-green-400",x=a>i?"â†‘":"â†“";return t.jsxs("div",{className:"flex justify-between items-center text-xs",children:[t.jsx("span",{style:{color:A[n]},className:"font-mono capitalize",children:n}),t.jsxs("span",{className:`font-mono font-bold ${l}`,children:["$",r.toFixed(1)," ",x]})]},n)})})]})}function Fe({value:e}){const o=(e*100).toFixed(1),s=e>.5?"#ef4444":e>.35?"#f59e0b":"#22c55e";return t.jsxs("div",{className:"bg-[#12121a] border border-[#1e1e2e] rounded-lg p-3",children:[t.jsxs("div",{className:"text-[#64748b] text-xs uppercase tracking-wider font-mono mb-2",children:["Inequality (Gini) â€” ",o]}),t.jsx("div",{className:"w-full bg-[#1e1e2e] rounded-full h-2 mb-1",children:t.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(100,e*100)}%`,backgroundColor:s}})}),t.jsxs("div",{className:"flex justify-between text-[10px] text-[#475569]",children:[t.jsx("span",{children:"Perfect Equality (0)"}),t.jsx("span",{children:"Total Inequality (1)"})]})]})}function We({event:e}){return t.jsxs("div",{className:"bg-[#1e1e2e] border border-[#334155] rounded px-2 py-1 text-xs flex items-center gap-1",children:[t.jsx("span",{children:e.icon}),t.jsx("span",{className:"text-[#e2e8f0] font-mono",children:e.name})]})}function Be({metrics:e,market:o,activeEvents:s=[]}){if(!e)return t.jsx("div",{className:"text-[#475569] text-sm font-mono p-4",children:"Loading metrics..."});const{history:n={}}=e;return t.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto h-full",children:[s.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 px-1",children:s.map(r=>t.jsx(We,{event:r},r.id))}),t.jsxs("div",{className:"text-[#475569] text-xs font-mono px-1",children:["Year ",e.year," Â· Tick ",e.tick," Â· Pop ",e.population]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(S,{label:"GDP",value:e.gdp,format:"currency",trend:e.gdpGrowth,color:"#6366f1",history:n.gdp||[]}),t.jsx(S,{label:"Unemployment",value:e.unemployment,format:"percent",color:e.unemployment>.15?"#ef4444":"#22c55e",history:n.unemployment||[]}),t.jsx(S,{label:"Inflation (CPI)",value:e.cpi,format:"index",color:e.cpi>120?"#f97316":"#e2e8f0",history:n.cpi||[]}),t.jsx(S,{label:"Avg Wage",value:e.avgWage,format:"currency",color:"#06b6d4"})]}),t.jsx(Fe,{value:e.gini}),t.jsx(Ae,{prices:o==null?void 0:o.prices,supply:o==null?void 0:o.supply,demand:o==null?void 0:o.demand}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(S,{label:"Poverty Rate",value:e.povertyRate,format:"percent",color:e.povertyRate>.25?"#ef4444":"#94a3b8"}),t.jsx(S,{label:"Social Unrest",value:e.socialUnrest,format:"percent",color:e.socialUnrest>.5?"#ef4444":"#94a3b8",history:n.unrest||[]}),t.jsx(S,{label:"Businesses",value:e.businessCount,color:"#f59e0b"}),t.jsx(S,{label:"Gov Debt",value:Math.abs(e.govDebt||0),format:"currency",color:(e.govDebt||0)>1e3?"#ef4444":"#64748b"})]})]})}function D(e){return e==null||isNaN(e)?"0":Math.abs(e)>=1e9?(e/1e9).toFixed(1)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(1)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(1)+"K":Math.round(e).toString()}const _e=[{id:"incomeTax",name:"Income Tax",category:"fiscal",type:"slider",min:0,max:.6,step:.01,format:"percent",icon:"ðŸ›ï¸",description:"Tax on worker wages. Funds public spending. Too high reduces work incentive.",tradeoff:"â†‘ Revenue but â†“ Worker take-home pay"},{id:"corporateTax",name:"Corporate Tax",category:"fiscal",type:"slider",min:0,max:.5,step:.01,format:"percent",icon:"ðŸ¢",description:"Tax on business profits. High rates may deter investment.",tradeoff:"â†‘ Revenue but â†“ Business investment"},{id:"minWage",name:"Minimum Wage",category:"labor",type:"slider",min:0,max:30,step:1,format:"currency",icon:"ðŸ’¼",description:"Floor on wages. Protects workers but may price out low-skill labor.",tradeoff:"â†‘ Worker wages but â†‘ Unemployment risk"},{id:"ubi",name:"Universal Basic Income",category:"welfare",type:"slider",min:0,max:500,step:10,format:"currency",icon:"ðŸŽ",description:"Unconditional payment to all citizens. Eliminates poverty floor. Very expensive.",tradeoff:"â†‘ Equality but â†‘â†‘ Government spending"},{id:"interestRate",name:"Interest Rate",category:"monetary",type:"slider",min:0,max:.2,step:.005,format:"percent",icon:"ðŸ¦",description:"Cost of borrowing money. High rates fight inflation but slow growth.",tradeoff:"â†‘ Fights inflation but â†“ Business investment"},{id:"antiMonopoly",name:"Anti-Monopoly Laws",category:"regulation",type:"toggle",icon:"âš–ï¸",description:"Break up businesses that dominate a market. Prevents price gouging.",tradeoff:"â†‘ Competition but â†“ Economies of scale"},{id:"educationFunding",name:"Education Spending",category:"public",type:"slider",min:0,max:1,step:.05,format:"percent",icon:"ðŸ“š",description:"Invests in workforce quality over time. Slow payoff, lasting effect.",tradeoff:"â†‘ Long-term productivity but â†‘ Government spending now"},{id:"unemploymentBenefit",name:"Unemployment Benefits",category:"welfare",type:"slider",min:0,max:300,step:10,format:"currency",icon:"ðŸ›¡ï¸",description:"Payments to unemployed workers. Maintains demand but may reduce job search urgency.",tradeoff:"â†‘ Stability but may â†‘ Unemployment duration"},{id:"priceControlFood",name:"Food Price Controls",category:"regulation",type:"toggle",icon:"ðŸŒ¾",description:"Caps food prices to protect the poor. May cause shortages if price is too low.",tradeoff:"â†‘ Affordability but â†“ Farm investment"},{id:"priceControlHousing",name:"Rent Controls",category:"regulation",type:"toggle",icon:"ðŸ ",description:"Limits housing rent increases. Helps existing tenants, discourages new supply.",tradeoff:"â†‘ Affordability but â†“ New housing construction"},{id:"printMoney",name:"Quantitative Easing",category:"monetary",type:"slider",min:0,max:50,step:1,format:"number",icon:"ðŸ–¨ï¸",description:"Inject money into the economy. Boosts demand but causes inflation.",tradeoff:"â†‘ Short-term demand but â†‘â†‘ Inflation risk"},{id:"publicHealthcare",name:"Public Healthcare",category:"public",type:"toggle",icon:"ðŸ¥",description:"Government-funded health. Improves health, reduces death rate, increases happiness.",tradeoff:"â†‘ Health + happiness but â†‘â†‘ Government spending"},{id:"wealthTax",name:"Wealth Tax",category:"fiscal",type:"slider",min:0,max:.05,step:.001,format:"percent",icon:"ðŸ’Ž",description:"Annual tax on total wealth above threshold. Directly reduces inequality.",tradeoff:"â†‘ Equality but â†“ Capital accumulation"},{id:"openBorders",name:"Open Immigration",category:"labor",type:"toggle",icon:"ðŸŒ",description:"Allow skilled immigrants. Boosts labor supply and productivity, may suppress wages.",tradeoff:"â†‘ Productivity but â†‘ Job competition"},{id:"subsidiesFarming",name:"Farm Subsidies",category:"fiscal",type:"toggle",icon:"ðŸšœ",description:"Government support for food production. Lowers food prices but costs taxpayers.",tradeoff:"â†‘ Food supply + lower prices but â†‘ Spending"}],Le={fiscal:{label:"Fiscal Policy",color:"#3b82f6"},monetary:{label:"Monetary Policy",color:"#f59e0b"},labor:{label:"Labor Market",color:"#22c55e"},welfare:{label:"Welfare",color:"#ec4899"},regulation:{label:"Regulation",color:"#8b5cf6"},public:{label:"Public Services",color:"#06b6d4"}};function $e({policy:e,value:o,onChange:s}){const n=r=>e.format==="percent"?(r*100).toFixed(0)+"%":e.format==="currency"?"$"+r:r;return t.jsxs("div",{className:"group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-sm",children:e.icon}),t.jsx("span",{className:"text-xs text-[#e2e8f0] font-mono",children:e.name})]}),t.jsx("span",{className:"text-xs font-bold font-mono text-[#6366f1]",children:n(o)})]}),t.jsx("input",{type:"range",min:e.min,max:e.max,step:e.step,value:o,onChange:r=>s(e.id,parseFloat(r.target.value)),className:"w-full h-1.5 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #6366f1 0%, #6366f1 ${(o-e.min)/(e.max-e.min)*100}%, #1e1e2e ${(o-e.min)/(e.max-e.min)*100}%, #1e1e2e 100%)`},title:e.description}),t.jsx("div",{className:"hidden group-hover:block text-[10px] text-[#475569] mt-1 leading-tight",children:e.tradeoff})]})}function Oe({policy:e,value:o,onChange:s}){return t.jsxs("div",{className:"flex items-center justify-between group",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-sm",children:e.icon}),t.jsx("span",{className:"text-xs text-[#e2e8f0] font-mono",children:e.name})]}),t.jsx("button",{onClick:()=>s(e.id,!o),className:`relative w-9 h-5 rounded-full transition-colors duration-200 flex-shrink-0 ${o?"bg-[#6366f1]":"bg-[#334155]"}`,children:t.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform duration-200 ${o?"translate-x-4":"translate-x-0.5"}`})})]})}function De({policies:e,onPolicyChange:o}){const[s,n]=c.useState("fiscal"),[r,i]=c.useState(!0),a=_e.filter(l=>l.category===s);return t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-xs uppercase tracking-widest text-[#64748b] font-mono",children:"Policy Controls"}),t.jsx("button",{onClick:()=>i(!r),className:"text-[#475569] hover:text-[#e2e8f0] text-xs",children:r?"â–¼":"â–¶"})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:Object.entries(Le).map(([l,x])=>t.jsx("button",{onClick:()=>n(l),className:`text-[10px] px-2 py-0.5 rounded font-mono transition-colors ${s===l?"text-white":"text-[#475569] hover:text-[#94a3b8]"}`,style:{backgroundColor:s===l?x.color+"33":"transparent",borderColor:x.color+"44",border:"1px solid"},children:x.label},l))}),t.jsx("div",{className:"flex flex-col gap-3 overflow-y-auto flex-1",children:a.map(l=>t.jsx("div",{children:l.type==="slider"?t.jsx($e,{policy:l,value:(e==null?void 0:e[l.id])??0,onChange:o}):t.jsx(Oe,{policy:l,value:(e==null?void 0:e[l.id])??!1,onChange:o})},l.id))})]})]})}const Ue=[{label:"1Ã—",value:1,title:"Slow â€” watch individual agents"},{label:"5Ã—",value:5,title:"Normal play"},{label:"20Ã—",value:20,title:"Fast-forward"},{label:"Max",value:60,title:"Stress test"}];function He({paused:e,speed:o,onPause:s,onResume:n,onReset:r,onSpeedChange:i,onScenarioOpen:a,onShockMe:l,scenarioName:x,year:d}){const[f,p]=c.useState(!1),h=()=>{navigator.clipboard&&(navigator.clipboard.writeText(window.location.href),p(!0),setTimeout(()=>p(!1),2e3))};return t.jsxs("header",{className:"flex items-center justify-between px-4 py-2 bg-[#0a0a0f] border-b border-[#1e1e2e] flex-wrap gap-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:"ðŸ¾"}),t.jsx("span",{className:"text-[#e2e8f0] font-bold font-mono text-sm hidden sm:block",children:"EconSim"})]}),t.jsxs("button",{onClick:a,className:"text-xs font-mono text-[#6366f1] hover:text-[#818cf8] border border-[#6366f133] hover:border-[#6366f166] rounded px-2 py-1 transition-colors",children:[x||"Free Market"," â–¾"]}),d!==void 0&&t.jsxs("span",{className:"text-[#475569] text-xs font-mono",children:["Year ",d]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex items-center gap-0.5 bg-[#12121a] border border-[#1e1e2e] rounded px-1",children:Ue.map(u=>t.jsx("button",{onClick:()=>i(u.value),title:u.title,className:`text-xs font-mono px-2 py-1 rounded transition-colors ${o===u.value?"bg-[#6366f1] text-white":"text-[#64748b] hover:text-[#e2e8f0]"}`,children:u.label},u.value))}),t.jsx("button",{onClick:e?n:s,className:`flex items-center gap-1 text-xs font-mono px-3 py-1.5 rounded border transition-colors
            border-[#1e1e2e] text-[#e2e8f0] hover:border-[#6366f1] hover:text-[#6366f1]`,children:e?"â–¶ Play":"â¸ Pause"}),t.jsx("button",{onClick:r,className:`text-xs font-mono px-3 py-1.5 rounded border border-[#1e1e2e] text-[#64748b]
            hover:border-[#ef4444] hover:text-[#ef4444] transition-colors`,title:"Reset simulation",children:"â†º Reset"}),t.jsx("button",{onClick:l,className:`text-xs font-mono px-3 py-1.5 rounded border border-[#f59e0b33] text-[#f59e0b]
            hover:bg-[#f59e0b11] transition-colors`,title:"Trigger a random economic event",children:"âš¡ Shock"}),t.jsx("button",{onClick:h,className:`text-xs font-mono px-3 py-1.5 rounded border border-[#1e1e2e] text-[#64748b]
            hover:border-[#22c55e] hover:text-[#22c55e] transition-colors`,title:"Copy shareable link",children:f?"âœ“ Copied!":"ðŸ”— Share"})]})]})}const ze={freeMarket:{id:"freeMarket",name:"Free Market Utopia",subtitle:"No rules. Pure capitalism.",description:"Zero regulation. No minimum wage, no taxes, no safety net. Watch monopolies form naturally and see who wins â€” and who gets left behind.",icon:"ðŸ¦…",difficulty:"Observe",color:"#3b82f6",policies:{incomeTax:0,corporateTax:0,minWage:0,ubi:0,interestRate:.02,antiMonopoly:!1,educationFunding:0,unemploymentBenefit:0,priceControlFood:!1,priceControlHousing:!1,printMoney:0,publicHealthcare:!1,wealthTax:0,openBorders:!1,subsidiesFarming:!1},agentCount:200,businessCount:20,wealthMultiplier:1.2,wealthInequality:1.5,avgSkill:.5,lesson:"Natural monopolies emerge quickly. The rich get richer. But GDP grows fast at first."},debtSpiral:{id:"debtSpiral",name:"The Debt Spiral",subtitle:"Borrowed too much. Now what?",description:"The government spent heavily on social programs. Debt is high, deficit is growing. Austerity or default â€” pick your poison.",icon:"ðŸ’¸",difficulty:"Hard",color:"#ef4444",policies:{incomeTax:.45,corporateTax:.35,minWage:15,ubi:200,interestRate:.12,antiMonopoly:!0,educationFunding:.8,unemploymentBenefit:150,priceControlFood:!1,priceControlHousing:!1,printMoney:5,publicHealthcare:!0,wealthTax:.02,openBorders:!1,subsidiesFarming:!1},agentCount:200,businessCount:18,wealthMultiplier:.8,wealthInequality:.8,avgSkill:.55,startGovDebt:5e3,lesson:"Cutting programs causes pain now. Keeping them causes pain later. The political economy of austerity."},techDisruption:{id:"techDisruption",name:"Tech Disruption",subtitle:"Automation is coming for jobs.",description:"A stable, balanced economy. Then a tech breakthrough hits â€” half the jobs can be automated. Will you adapt or collapse?",icon:"ðŸ¤–",difficulty:"Medium",color:"#8b5cf6",policies:{incomeTax:.28,corporateTax:.21,minWage:12,ubi:0,interestRate:.05,antiMonopoly:!1,educationFunding:.5,unemploymentBenefit:80,priceControlFood:!1,priceControlHousing:!1,printMoney:0,publicHealthcare:!1,wealthTax:0,openBorders:!1,subsidiesFarming:!1},agentCount:200,businessCount:20,wealthMultiplier:1,wealthInequality:1,avgSkill:.5,scheduledEvent:{type:"techBreakthrough",atTick:200},lesson:"Automation creates wealth but destroys jobs. UBI or retraining â€” which policy saves more people?"}},Ge=Object.values(ze);function qe({scenario:e,onSelect:o,current:s}){const n=s===e.id;return t.jsx("button",{onClick:()=>o(e.id),className:`w-full text-left p-4 rounded-xl border transition-all ${n?"border-opacity-60 bg-opacity-10":"border-[#1e1e2e] bg-[#12121a] hover:border-[#334155]"}`,style:{borderColor:n?e.color:void 0,backgroundColor:n?e.color+"10":void 0},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-3xl",children:e.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-white font-bold text-sm",children:e.name}),t.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-mono",style:{backgroundColor:e.color+"22",color:e.color},children:e.difficulty})]}),t.jsx("p",{className:"text-[#94a3b8] text-xs italic mb-2",children:e.subtitle}),t.jsx("p",{className:"text-[#64748b] text-xs leading-relaxed",children:e.description}),t.jsxs("div",{className:"mt-2 text-[10px] font-mono text-[#475569] border-l-2 pl-2",style:{borderColor:e.color+"66"},children:["ðŸ’¡ ",e.lesson]})]})]})})}function Ke({current:e,onSelect:o,onClose:s}){return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-[#0d0d14] border border-[#1e1e2e] rounded-2xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-white font-bold text-xl font-mono",children:"Choose Scenario"}),t.jsx("p",{className:"text-[#64748b] text-sm mt-1",children:"Each scenario starts from a different economic reality. Your choices determine what happens next."})]}),t.jsx("button",{onClick:s,className:"text-[#475569] hover:text-white text-xl leading-none",children:"âœ•"})]}),t.jsx("div",{className:"flex flex-col gap-3",children:Ge.map(n=>t.jsx(qe,{scenario:n,current:e,onSelect:r=>{o(r),s()}},n.id))}),t.jsx("div",{className:"mt-4 text-center text-[#475569] text-xs font-mono",children:"Changing scenario resets the simulation"})]})})}const Ye={monopoly_forming:{title:"Monopoly Alert",emoji:"ðŸ¢",body:"One business now controls over 60% of its market. Without competition, prices rise and quality drops.",realWorld:"Standard Oil controlled 91% of US oil in 1904. The Sherman Antitrust Act (1890) broke it up. Today, similar debates surround Big Tech.",color:"#ef4444"},high_inequality:{title:"Inequality Spike",emoji:"ðŸ“Š",body:"Wealth concentration is extreme. The Gini coefficient measures this: 0 = perfect equality, 1 = one person owns everything.",realWorld:"The US Gini is ~0.41. Scandinavia: ~0.28. Brazil: ~0.53. High inequality correlates with lower social mobility and higher crime.",color:"#f59e0b"},high_unemployment:{title:"Unemployment Crisis",emoji:"ðŸ“‰",body:"Mass unemployment creates a vicious cycle: fewer workers â†’ less spending â†’ fewer sales â†’ more layoffs.",realWorld:"Keynes' insight: in a recession, government spending can break this cycle by creating demand when the private sector won't.",color:"#ef4444"},inflation_spiral:{title:"Inflation Warning",emoji:"ðŸ”¥",body:"Prices are rising faster than wages. Your money buys less each day. The purchasing power of savings erodes.",realWorld:"Zimbabwe's hyperinflation (2008) reached 89.7 sextillion % monthly. The cure: independent central banks that raise rates.",color:"#f97316"},min_wage_tradeoff:{title:"Minimum Wage Tradeoff",emoji:"âš–ï¸",body:"A higher minimum wage raised living standards â€” but some businesses can no longer afford to hire.",realWorld:"Seattle's $15 minimum wage (2015) study: restaurant employment rose in some areas, fell in others. Context matters enormously.",color:"#6366f1"},budget_surplus:{title:"Fiscal Surplus!",emoji:"ðŸ’°",body:"Tax revenue exceeds spending. The government can pay down debt or invest in future growth.",realWorld:"The US ran surpluses 1998-2001. Norway's oil fund (built from surpluses) now exceeds $1.4 trillion.",color:"#22c55e"},stagnation:{title:"Stagflation Risk",emoji:"ðŸ˜°",body:"The economy is shrinking AND unemployment is rising â€” the worst of both worlds. Traditional policy tools conflict.",realWorld:"The 1970s oil crisis created stagflation. Volcker killed it (1980) by raising interest rates to 20% â€” causing a painful recession.",color:"#8b5cf6"},poverty_trap:{title:"Poverty Trap",emoji:"ðŸª¤",body:"Workers in poverty can't afford better nutrition, education, or healthcare â€” which keeps them in poverty.",realWorld:"The poverty trap: every dollar earned reduces welfare by $1. Effective marginal tax rates for the poor can exceed 80%.",color:"#ef4444"},dutch_disease:{title:"Resource Dependency",emoji:"â›½",body:"One sector dominates, crowding out others. High-earning sectors attract all workers, leaving other industries struggling.",realWorld:`The "Dutch Disease": Netherlands' 1960s natural gas discovery boosted the guilder, making exports uncompetitive.`,color:"#f59e0b"},ubi_effect:{title:"UBI Effect Observed",emoji:"ðŸŽ¯",body:"Universal Basic Income is reducing poverty and providing security. Some people are taking more risks â€” starting businesses.",realWorld:"Finland's UBI experiment (2017-18): recipients reported better wellbeing, mental health improved. Employment was neutral.",color:"#22c55e"}};function Ve({insight:e,onDismiss:o}){const[s,n]=c.useState(!1);if(c.useEffect(()=>{e&&n(!0)},[e]),!e||!s)return null;const r=Ye[e.id]||{title:e.title,emoji:"ðŸ’¡",body:e.body,realWorld:e.realWorld,color:"#6366f1"},i=()=>{n(!1),setTimeout(()=>o==null?void 0:o(),300)};return t.jsx("div",{className:`fixed bottom-6 right-6 z-40 max-w-sm transition-all duration-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:t.jsx("div",{className:"bg-[#0d0d14] border rounded-xl p-4 shadow-2xl",style:{borderColor:r.color+"66"},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-2xl flex-shrink-0",children:r.emoji}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("h4",{className:"text-white font-bold text-sm",children:r.title}),t.jsx("button",{onClick:i,className:"text-[#475569] hover:text-white text-sm ml-2",children:"âœ•"})]}),t.jsx("p",{className:"text-[#94a3b8] text-xs leading-relaxed mb-2",children:r.body}),t.jsxs("div",{className:"text-[10px] text-[#64748b] leading-relaxed border-l-2 pl-2 italic",style:{borderColor:r.color+"66"},children:["ðŸŒ ",r.realWorld]}),t.jsxs("div",{className:"text-[9px] text-[#334155] mt-2 font-mono",children:["Year ",e.year," Â· ",e.id]})]})]})})})}const Xe={working:"Employed",unemployed:"Unemployed",child:"Child",retired:"Retired",owner:"Business Owner",dead:"Deceased"},Ze={working:"#22c55e",unemployed:"#ef4444",child:"#94a3b8",retired:"#64748b",owner:"#f59e0b",dead:"#374151"};function Je({agent:e,onClose:o}){if(!e)return null;const s=Math.floor(e.age/52),n=G(e.wealth);return t.jsxs("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-40 bg-[#0d0d14] border border-[#1e1e2e] rounded-xl p-4 shadow-2xl max-w-xs w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border border-white/20",style:{backgroundColor:n}}),t.jsxs("span",{className:"text-white font-bold font-mono text-sm",children:["Agent #",e.id]})]}),t.jsx("button",{onClick:o,className:"text-[#475569] hover:text-white text-sm",children:"âœ•"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 text-xs mb-3",children:[t.jsx(w,{label:"Age",value:`${s} yrs`}),t.jsx(w,{label:"Status",value:Xe[e.state]||e.state,color:Ze[e.state]}),t.jsx(w,{label:"Wealth",value:`$${Math.round(e.wealth)}`,color:n}),t.jsx(w,{label:"Wage",value:e.wage>0?`$${e.wage.toFixed(1)}/tick`:"â€”"}),t.jsx(w,{label:"Skill",value:`${(e.skill*100).toFixed(0)}%`}),t.jsx(w,{label:"Education",value:`${(e.education*100).toFixed(0)}%`}),t.jsx(w,{label:"Health",value:`${(e.health*100).toFixed(0)}%`}),t.jsx(w,{label:"Happiness",value:`${(e.happiness*100).toFixed(0)}%`,color:e.happiness>.6?"#22c55e":e.happiness<.3?"#ef4444":"#e2e8f0"}),e.jobSector&&t.jsx(w,{label:"Sector",value:e.jobSector}),t.jsx(w,{label:"Class",value:e.socialClass,color:e.socialClass==="rich"?"#f59e0b":e.socialClass==="poor"?"#ef4444":"#e2e8f0"})]}),e.events&&e.events.length>0&&t.jsxs("div",{children:[t.jsx("div",{className:"text-[#475569] text-[10px] uppercase tracking-wider font-mono mb-1.5",children:"Life History"}),t.jsx("ul",{className:"space-y-0.5 max-h-24 overflow-y-auto",children:e.events.map((r,i)=>t.jsxs("li",{className:"text-[10px] text-[#64748b] font-mono leading-tight",children:["â€¢ ",r]},i))})]})]})}function w({label:e,value:o,color:s}){return t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-[#475569] font-mono",children:e}),t.jsx("span",{className:"font-mono font-medium",style:{color:s||"#e2e8f0"},children:o})]})}function Qe(e){return e<100?"<$100":e<300?"$100-300":e<800?"$300-800":e<2e3?"$800-2K":e<5e3?"$2K-5K":">$5K"}const U=["<$100","$100-300","$300-800","$800-2K","$2K-5K",">$5K"],et=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#f59e0b"];function tt({agents:e}){const o=c.useMemo(()=>{if(!(e!=null&&e.length))return[];const n={};U.forEach(r=>{n[r]=0});for(const r of e){if(!r.alive)continue;const i=Qe(r.wealth);n[i]=(n[i]||0)+1}return U.map((r,i)=>({name:r,count:n[r]||0,fill:et[i]}))},[e]),s=c.useMemo(()=>{if(!(e!=null&&e.length))return[];const n=e.filter(r=>r.alive).map(r=>Math.max(0,r.wealth));return ge(n,20)},[e]);return t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[#64748b] text-xs uppercase tracking-wider font-mono mb-2",children:"Wealth Distribution"}),t.jsx("div",{className:"h-28",children:t.jsx(P,{width:"100%",height:"100%",children:t.jsxs(ae,{data:o,margin:{top:0,right:0,bottom:0,left:-20},children:[t.jsx(W,{dataKey:"name",tick:{fontSize:8,fill:"#475569",fontFamily:"monospace"},axisLine:!1,tickLine:!1}),t.jsx(B,{tick:{fontSize:8,fill:"#475569",fontFamily:"monospace"},axisLine:!1,tickLine:!1}),t.jsx(_,{contentStyle:{background:"#12121a",border:"1px solid #1e1e2e",fontSize:10},labelStyle:{color:"#e2e8f0"},itemStyle:{color:"#6366f1"}}),t.jsx(le,{dataKey:"count",radius:[2,2,0,0],children:o.map((n,r)=>t.jsx("rect",{fill:n.fill},r))})]})})})]}),s.length>2&&t.jsxs("div",{children:[t.jsx("div",{className:"text-[#64748b] text-xs uppercase tracking-wider font-mono mb-2",children:"Lorenz Curve"}),t.jsx("div",{className:"h-24",children:t.jsx(P,{width:"100%",height:"100%",children:t.jsxs(ce,{data:s,margin:{top:0,right:0,bottom:0,left:-20},children:[t.jsx(W,{dataKey:"population",tick:{fontSize:8,fill:"#475569"},axisLine:!1,tickLine:!1,tickFormatter:n=>n+"%"}),t.jsx(B,{tick:{fontSize:8,fill:"#475569"},axisLine:!1,tickLine:!1,tickFormatter:n=>n+"%"}),t.jsx(L,{data:[{population:0,perfect:0},{population:100,perfect:100}],type:"linear",dataKey:"perfect",stroke:"#334155",strokeWidth:1,dot:!1,strokeDasharray:"3 3"}),t.jsx(L,{type:"monotone",dataKey:"wealth",stroke:"#6366f1",strokeWidth:1.5,dot:!1,isAnimationActive:!1}),t.jsx(_,{contentStyle:{background:"#12121a",border:"1px solid #1e1e2e",fontSize:10},formatter:n=>n.toFixed(1)+"%"})]})})}),t.jsx("div",{className:"text-[10px] text-[#334155] text-center font-mono",children:"Area between lines = Gini coefficient"})]})]})}function ot(e,o){const s={incomeTax:[0,.6],corporateTax:[0,.5],minWage:[0,50],ubi:[0,1e3],interestRate:[0,.2],educationFunding:[0,1],unemploymentBenefit:[0,500],printMoney:[0,100],wealthTax:[0,.05]};if(e in s){const[n,r]=s[e];return be(Number(o),n,r)}return o}const q="ecomsim_save";function rt(e){try{localStorage.setItem(q+"_scenario",e)}catch{}}function st(){try{return localStorage.getItem(q+"_scenario")||"freeMarket"}catch{return"freeMarket"}}function nt(){const e=c.useRef(null),[o,s]=c.useState(null),[n,r]=c.useState(!1),[i,a]=c.useState(5),[l,x]=c.useState(st()),[d,f]=c.useState(!1),[p,h]=c.useState(null),[u,N]=c.useState([]),[v,g]=c.useState(null),[y,j]=c.useState("dashboard");c.useEffect(()=>{const m=new Worker(new URL("/ecomsim/assets/simWorker-BDaCscUB.js",import.meta.url),{type:"module"});return m.addEventListener("message",C=>{const{type:E,state:T,event:oe,insight:F}=C.data;switch(E){case"STATE_UPDATE":s(T);break;case"EVENT":console.log("[Event]",oe.name);break;case"INSIGHT":h(F),N(re=>[F,...re].slice(0,20));break}}),m.postMessage({type:"INIT",scenarioId:l}),e.current=m,()=>m.terminate()},[]);const b=c.useCallback(m=>{var C;(C=e.current)==null||C.postMessage(m)},[]),K=c.useCallback(()=>{r(!0),b({type:"PAUSE"})},[b]),Y=c.useCallback(()=>{r(!1),b({type:"RESUME"})},[b]),V=c.useCallback(()=>{s(null),h(null),g(null),b({type:"RESET",scenarioId:l}),n&&(r(!1),b({type:"RESUME"}))},[b,l,n]),X=c.useCallback(m=>{a(m),b({type:"SET_SPEED",speed:m})},[b]),Z=c.useCallback((m,C)=>{const E=ot(m,C);b({type:"SET_POLICY",policy:m,value:E}),s(T=>T&&{...T,policies:{...T.policies,[m]:E}})},[b]),J=c.useCallback(m=>{x(m),rt(m),s(null),h(null),g(null),b({type:"RESET",scenarioId:m}),r(!1)},[b]),Q=c.useCallback(()=>{b({type:"SET_POLICY",policy:"_forceShock",value:!0})},[b]),ee=c.useCallback(m=>{g(m)},[]),te=o?l==="freeMarket"?"Free Market":l==="debtSpiral"?"Debt Spiral":"Tech Disruption":"Loading...";return t.jsxs("div",{className:"h-screen flex flex-col bg-[#0a0a0f] text-[#e2e8f0] overflow-hidden font-mono",children:[t.jsx(He,{paused:n,speed:i,onPause:K,onResume:Y,onReset:V,onSpeedChange:X,onScenarioOpen:()=>f(!0),onShockMe:Q,scenarioName:te,year:o==null?void 0:o.year}),t.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[t.jsxs("div",{className:"flex-1 relative bg-[#0a0a0f]",children:[t.jsx(Re,{simState:o,onAgentClick:ee,selectedAgentId:v==null?void 0:v.id}),v&&t.jsx(Je,{agent:v,onClose:()=>g(null)})]}),t.jsxs("div",{className:"w-72 flex flex-col border-l border-[#1e1e2e] bg-[#0a0a0f]",children:[t.jsx("div",{className:"flex border-b border-[#1e1e2e]",children:["dashboard","policies","histogram"].map(m=>t.jsx("button",{onClick:()=>j(m),className:`flex-1 py-2 text-xs font-mono capitalize transition-colors ${y===m?"text-[#6366f1] border-b border-[#6366f1]":"text-[#475569] hover:text-[#94a3b8]"}`,children:m},m))}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-3",children:[y==="dashboard"&&t.jsx(Be,{metrics:o==null?void 0:o.metrics,market:o==null?void 0:o.market,activeEvents:o==null?void 0:o.activeEvents}),y==="policies"&&t.jsx(De,{policies:o==null?void 0:o.policies,onPolicyChange:Z}),y==="histogram"&&t.jsx(tt,{agents:o==null?void 0:o.agents})]})]})]}),p&&t.jsx(Ve,{insight:p,onDismiss:()=>h(null)}),d&&t.jsx(Ke,{current:l,onSelect:J,onClose:()=>f(!1)})]})}R.createRoot(document.getElementById("root")).render(t.jsx(de.StrictMode,{children:t.jsx(nt,{})}));
